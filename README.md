# SquadUp

[![Build Status](https://travis-ci.org/joemccann/dillinger.svg?branch=master)](https://github.com/veyorokon/SquadUp)

SquadUp is a platform that allows users to create, share and discover (CSD) subscription services.

  - Subscriptions can be any reocurring payment (rent, phone, Netflix etc.).
  - Squads encapsulate subscriptions so they can be CSD'ed on SquadUp.
  - SquadUp rewards content creators with 100% of profit generated by squads.

# New Features!

  - Squad card images are now optionally available.


You can also:
  - Create squads for free.
  - Invite members to your squad.

### Tech

SquadUp uses a number of open source and free tier projects to work properly:

* [ReactJS] - Front end JS framework
* [Django] - Backend framework built with python
* [npm] - Package manager for installing ReactJS modules
* [Mixpanel] - User data analytics and tracking
* [Docker] - Platform independent portable development
* [Graphene] - GraphQL framework for python
* [Apollo] - Caching GraphQL client for GraphQL servers
* [Material-UI] - React components that implement Google's Material Design.
* [Stripe] - Python library for the Stripe API.

### Local Installation & Development

SquadUp requires [Node.js](https://nodejs.org/) v8.11.4+ to run.



After *every* pull the code from Github, configure Mixpanel and Stripe keys for `local` or `server`. This step is for analytics and separates development from production data on our Mixpanel and Stripe dashboards.
```sh
$ ./config local
```

Docker container is used for version control for the backend and database and to make the code protable and platform independent. Install the backend dependencies by building the container.

```sh
$ docker-compose build
```

The `docker-compose.yml` file specifies which and how containers will start. The command to start docker containers is:

```sh
$ docker-compose up
```

Leave the previous terminal window and open a new terminal window. If this is the first time after a fresh install, create a Django super user. Since Django was installed in the backend container, you have to connect/login to that container.
```sh
$ docker-compose exec backend bash
```

You will be connected to the bash terminal in the backend container and your terminal window will display something like the following:
```sh
root@9daded436eb5:/app/backend#
```

If this is your first time, create a new Django superuser.
```sh
$ ./manage.py createsuperuser
```

While still inside the backend container, make migrations and migrate them to the database. Exit this container after this step.

```sh
$ ./manage.py makemigrations
$ ./manage.py migrate
$ exit
```

With your new superuser, you can access the Django Admin via:

```sh
127.0.0.1:8000/api/admin/
```

The backend container has a GUI for GraphQL called GraphIQL. This allows you to debug GraphQL queries/mutations. Note, this is *only* available in development environments.

```sh
127.0.0.1:8000/api/graphql/
```

Install the frontend dependencies and devDependencies and start the server.

```sh
$ cd frontend
$ npm install -d
$ npm start
```

Verify the deployment of frontend by navigating to localhost port 3000 in your preferred browser. **If you're on Mac, Mixpanel will not work in Chrome but it works in Safari for some reason.**

```sh
127.0.0.1:3000
```

For production environments...

```sh
$ Install instructions needed.
```

### Common Errors
> could not translate host name "postgres" to address: Name or service not known

Make sure you have added '127.0.0.1 postgres' to your /etc/hosts file.


### Todos

 - Write server install instructions

License
----

***Proprietary, Please Keep Private***


   [ReactJS]: <https://github.com/facebook/react>
   [Django]: <https://github.com/django/django>
   [npm]: <https://github.com/npm/cli>
   [Mixpanel]: <https://github.com/mixpanel/mixpanel-js>
   [Docker]: <https://github.com/docker>
   [Graphene]: <https://github.com/graphql-python/graphene>
   [Apollo]: <https://github.com/apollographql/apollo-client>
   [Material-UI]: <https://github.com/mui-org/material-ui>
   [Stripe]: <https://github.com/stripe/stripe-python>
   
